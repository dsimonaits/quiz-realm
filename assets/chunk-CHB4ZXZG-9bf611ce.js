import{v as b,w as m,r as t,x as w,y as P}from"./index-352edc63.js";function y(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var E=y();function T(e){const{theme:o}=b(),n=m();return t.useMemo(()=>w(o.direction,{...n,...e}),[e,o.direction,n])}var g=E?t.useLayoutEffect:t.useEffect;function k(e,o=[]){const n=t.useRef(e);return g(()=>{n.current=e}),t.useCallback((...u)=>{var c;return(c=n.current)==null?void 0:c.call(n,...u)},o)}function x(e,o){const n=t.useId();return t.useMemo(()=>e||[o,n].filter(Boolean).join("-"),[e,o,n])}function I(e,o){const n=e!==void 0;return[n,n&&typeof e<"u"?e:o]}function h(e={}){const{onClose:o,onOpen:n,isOpen:u,id:c}=e,r=k(n),i=k(o),[v,C]=t.useState(e.defaultIsOpen||!1),[s,a]=I(u,v),p=x(c,"disclosure"),d=t.useCallback(()=>{s||C(!1),i==null||i()},[s,i]),f=t.useCallback(()=>{s||C(!0),r==null||r()},[s,r]),O=t.useCallback(()=>{(a?d:f)()},[a,f,d]);return{isOpen:!!a,onOpen:f,onClose:d,onToggle:O,isControlled:s,getButtonProps:(l={})=>({...l,"aria-expanded":a,"aria-controls":p,onClick:P(l.onClick,O)}),getDisclosureProps:(l={})=>({...l,hidden:!a,id:p})}}export{h as a,T as u};
