import{V as ue,u as H,r as n,W as q,h as fe,g as s,q as h,m as Y,y as he,j as r,X as pe,F as Z,c as be,T as $,Y as Ce,C as ee,Z as me,U as ge}from"./index-2cf513f4.js";import{Q as te}from"./QuizStore-70063026.js";import{H as ve}from"./index.esm-1d4a7c69.js";import{t as ye,u as ke,S as xe}from"./StyledCustomRadios-50e53da5.js";var Se={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Pe(l,d=[]){const t=Object.assign({},l);for(const o of d)o in t&&delete t[o];return t}function De(l={}){const d=ue(l),{isDisabled:t,isReadOnly:o,isRequired:g,isInvalid:a,id:u,onBlur:C,onFocus:S,"aria-describedby":k}=d,{defaultChecked:m,isChecked:P,isFocusable:D,onChange:M,isIndeterminate:f,name:v,value:L,tabIndex:z=void 0,"aria-label":K,"aria-labelledby":O,"aria-invalid":B,...ae}=l,T=Pe(ae,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),A=H(M),V=H(C),Q=H(S),[w,se]=n.useState(!1),[y,I]=n.useState(!1),[j,W]=n.useState(!1),[F,x]=n.useState(!1);n.useEffect(()=>ye(se),[]);const p=n.useRef(null),[N,oe]=n.useState(!0),[ne,E]=n.useState(!!m),U=P!==void 0,i=U?P:ne,_=n.useCallback(e=>{if(o||t){e.preventDefault();return}U||E(i?e.target.checked:f?!0:e.target.checked),A==null||A(e)},[o,t,i,U,f,A]);q(()=>{p.current&&(p.current.indeterminate=!!f)},[f]),fe(()=>{t&&I(!1)},[t,I]),q(()=>{const e=p.current;if(!(e!=null&&e.form))return;const c=()=>{E(!!m)};return e.form.addEventListener("reset",c),()=>{var b;return(b=e.form)==null?void 0:b.removeEventListener("reset",c)}},[]);const J=t&&!D,X=n.useCallback(e=>{e.key===" "&&x(!0)},[x]),G=n.useCallback(e=>{e.key===" "&&x(!1)},[x]);q(()=>{if(!p.current)return;p.current.checked!==i&&E(p.current.checked)},[p.current]);const re=n.useCallback((e={},c=null)=>{const b=R=>{y&&R.preventDefault(),x(!0)};return{...e,ref:c,"data-active":s(F),"data-hover":s(j),"data-checked":s(i),"data-focus":s(y),"data-focus-visible":s(y&&w),"data-indeterminate":s(f),"data-disabled":s(t),"data-invalid":s(a),"data-readonly":s(o),"aria-hidden":!0,onMouseDown:h(e.onMouseDown,b),onMouseUp:h(e.onMouseUp,()=>x(!1)),onMouseEnter:h(e.onMouseEnter,()=>W(!0)),onMouseLeave:h(e.onMouseLeave,()=>W(!1))}},[F,i,t,y,w,j,f,a,o]),ie=n.useCallback((e={},c=null)=>({...e,ref:c,"data-active":s(F),"data-hover":s(j),"data-checked":s(i),"data-focus":s(y),"data-focus-visible":s(y&&w),"data-indeterminate":s(f),"data-disabled":s(t),"data-invalid":s(a),"data-readonly":s(o)}),[F,i,t,y,w,j,f,a,o]),le=n.useCallback((e={},c=null)=>({...T,...e,ref:Y(c,b=>{b&&oe(b.tagName==="LABEL")}),onClick:h(e.onClick,()=>{var b;N||((b=p.current)==null||b.click(),requestAnimationFrame(()=>{var R;(R=p.current)==null||R.focus({preventScroll:!0})}))}),"data-disabled":s(t),"data-checked":s(i),"data-invalid":s(a)}),[T,t,i,a,N]),ce=n.useCallback((e={},c=null)=>({...e,ref:Y(p,c),type:"checkbox",name:v,value:L,id:u,tabIndex:z,onChange:h(e.onChange,_),onBlur:h(e.onBlur,V,()=>I(!1)),onFocus:h(e.onFocus,Q,()=>I(!0)),onKeyDown:h(e.onKeyDown,X),onKeyUp:h(e.onKeyUp,G),required:g,checked:i,disabled:J,readOnly:o,"aria-label":K,"aria-labelledby":O,"aria-invalid":B?!!B:a,"aria-describedby":k,"aria-disabled":t,style:Se}),[v,L,u,_,V,Q,X,G,g,i,J,o,K,O,B,a,k,t,z]),de=n.useCallback((e={},c=null)=>({...e,ref:c,onMouseDown:h(e.onMouseDown,je),"data-disabled":s(t),"data-checked":s(i),"data-invalid":s(a)}),[i,t,a]);return{state:{isInvalid:a,isFocused:y,isChecked:i,isActive:F,isHovered:j,isIndeterminate:f,isDisabled:t,isReadOnly:o,isRequired:g},getRootProps:le,getCheckboxProps:re,getIndicatorProps:ie,getInputProps:ce,getLabelProps:de,htmlProps:T}}function je(l){l.preventDefault(),l.stopPropagation()}const Fe=he(({allTopics:l,onChange:d})=>{const[t,o]=n.useState([]),g=a=>{t.includes(a)?o(t.filter(u=>u!==a)):o([...t,a])};return r.jsx(pe,{children:r.jsx(Z,{gap:"10px",flexWrap:"wrap",children:l.map(a=>{const{state:u,getCheckboxProps:C,getInputProps:S,getLabelProps:k,htmlProps:m}=De();return r.jsxs(be.label,{onChange:()=>{g(a),d(a)},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gridColumnGap:2,maxW:"auto",bg:u.isChecked?"accent":"background",border:"1px solid",borderColor:"background",px:3,py:1,pr:"3rem",fontFamily:"var(--secondaryFont)",fontSize:"1.1rem",fontWeight:"medium",cursor:"pointer",transition:"var(--transition)",...m,children:[r.jsx("input",{...S(),hidden:!0}),r.jsx($,{color:"primary",...k(),children:a}),r.jsx(Z,{opacity:u.isChecked?1:0,position:"absolute",top:"0",right:"0",alignItems:"center",justifyContent:"center",borderColor:"var(--mainColor)",bg:"var(--mainColor)",color:"secondary",w:"2rem",h:"100%",transition:"var(--transition)",...C(),children:r.jsx($,{children:r.jsx(ve,{})})})]},a)})})})}),Le=({toast:l,title:d,position:t,status:o="info"})=>l({title:d,position:t,status:o,isClosable:!0}),Be=({children:l})=>{const[d,t]=n.useState(0),[o,g]=n.useState("JavaScript"),[a,u]=n.useState([]),C=te,S=ke(),k=[{title:"Choose your category",component:r.jsx(xe,{options:C.getAllCategories(),defaultValue:o,onChange:v=>{g(v)},stackStyle:{gap:"20px",flexWrap:"wrap",justifyContent:"center"}})},{title:"Choose your favorite topics",component:r.jsx(Fe,{allTopics:C.getAllTopics(o),onChange:v=>{a.includes(v)?u(a.filter(L=>L!==v)):u([...a,v])}})}],m=k[d],P=d===k.length-1,D=Ce(),M=()=>{if(m.component!==void 0){if(m.title==="Choose your favorite topics"&&a.length===0)return Le({toast:S,title:"Please select at least one topic!",position:"top"});P?(C.setCategory(o),C.setTopics(a),C.setStartQuiz(),D.onClose(),ge.fetchUserProgress()):t(d+1)}},f=async()=>{await te.getAllQuestions(),t(0),g("JavaScript"),u([]),D.onOpen()};return r.jsxs(r.Fragment,{children:[r.jsx(ee,{onClickHandler:f,children:l}),r.jsxs(me,{disclosure:D,modalTitle:m.title,styles:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[m.component,r.jsx(ee,{onClickHandler:M,children:P?"Start Learning":"Next"})]})]})};export{Be as default};
