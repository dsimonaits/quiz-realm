import{r as o,_ as h,s as S,j as t,L as j}from"./index-eb0cc021.js";import{o as z,Q as A}from"./QuizStore-851f4be0.js";import{u as E,a as R,T as g}from"./Toast-20044913.js";import{S as v,M as O}from"./Container-e775710d.js";const y=n=>{const r=[...n];for(let e=r.length-1;e>0;e--){const u=Math.floor(Math.random()*(e+1));[r[e],r[u]]=[r[u],r[e]]}return r},Q=o.lazy(()=>h(()=>import("./Modal-565358f0.js"),["assets/Modal-565358f0.js","assets/index-eb0cc021.js","assets/index-dc1fd693.css","assets/index-a8927ce7.js","assets/chunk-ROURZMX4-c7157920.js"])),T=o.lazy(()=>h(()=>import("./QuizResult-c9493792.js"),["assets/QuizResult-c9493792.js","assets/index-eb0cc021.js","assets/index-dc1fd693.css","assets/Button-1b40be0b.js","assets/Container-e775710d.js","assets/chunk-3ASUQ6PA-14f1e64e.js","assets/chunk-ZHMYA64R-5b081061.js"])),b=o.lazy(()=>h(()=>import("./QuizQuestion-8149a7ab.js"),["assets/QuizQuestion-8149a7ab.js","assets/index-eb0cc021.js","assets/index-dc1fd693.css","assets/Button-1b40be0b.js","assets/Container-e775710d.js","assets/StyledCustomRadios-4d3c8f57.js","assets/index-a8927ce7.js","assets/chunk-3ASUQ6PA-14f1e64e.js","assets/chunk-ZHMYA64R-5b081061.js","assets/chunk-2OOHT3W5-ad8da04b.js"])),L=z(()=>{const[n,r]=o.useState(0),[e,u]=o.useState(null),[c,p]=o.useState(!1),s=A,i=s.StartQuizData,l=S(),d=E(),a=R(),m=()=>{a.onClose(),s.resetStore(),l("/")};if(o.useEffect(()=>{if(i.length===0&&l("/"),i.length<n+1){p(!0),a.onOpen();return}u(i[n])},[n,l,i,a]),o.useEffect(()=>{c&&!a.isOpen&&l("/")},[c,a,l]),e===null)return null;const _=f=>{s.setAnswer(f)},w=()=>{const f=s.selectedAnswer===(e==null?void 0:e.answers.answer);if(s.selectedAnswer==="")return g({toast:d,title:"You forgot to answer!",position:"top"});f?(d({title:"Your answered correctly!",position:"top",status:"success"}),s.setUserResult(!0)):(d({title:"Your answered incorrectly!",position:"top",status:"error"}),s.setUserResult(!1)),s.setAnswer(""),r(n+1)},x=y(Object.values(e.answers));return t.jsx(o.Suspense,{fallback:t.jsx(j,{}),children:t.jsx(v,{children:t.jsx(O,{children:c?t.jsx(Q,{modalTitle:"Your Score",disclosure:a,children:t.jsx(T,{result:s.userResult,btnHandle:m})}):t.jsx(t.Fragment,{children:t.jsx(b,{question:e==null?void 0:e.question,answers:x,handleOnChange:_,handleOnNext:w})})})})})});export{L as default};
