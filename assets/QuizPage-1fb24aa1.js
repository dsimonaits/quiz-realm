var Q=Object.defineProperty;var R=(a,e,t)=>e in a?Q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var i=(a,e,t)=>(R(a,typeof e!="symbol"?e+"":e,t),t);import{r as n,_ as w,s as v,j as s,L as g}from"./index-4b71839b.js";import{m as A,a as x,b as f,o as y,Q as j}from"./QuizStore-b2bd4526.js";import{S as E,M as G,B as C,T as L}from"./Container-8aac37e2.js";import{S as q}from"./chunk-SR4VX3RF-107ab28e.js";const l=class l{constructor(){i(this,"user",{name:"Deniss",email:"dsimonaits@gmail.com"});i(this,"userProgress",{totalGamesPlayed:0,totalQuestionsAnsweredGames:0,totalGoodAnswers:0,totalBadAnswers:0,currentLevel:0,averageScore:0});A(this,{user:x,userProgress:x,setPlayedGames:f,setUserResult:f})}static getInstance(){return this.instance||(this.instance=new l),this.instance}setPlayedGames(){this.userProgress.totalGamesPlayed+=1}setUserResult(e){e&&(this.userProgress.totalGoodAnswers+=e.good,this.userProgress.totalBadAnswers+=e.fault)}};i(l,"instance",null);let c=l;const B=c.getInstance(),D=n.lazy(()=>w(()=>import("./QuizResult-6f70819e.js"),["assets/QuizResult-6f70819e.js","assets/index-4b71839b.js","assets/index-9fd08ca8.css","assets/Button-da2653eb.js","assets/Container-8aac37e2.js","assets/chunk-NTCQBYKE-ef0c3a36.js","assets/chunk-ZHMYA64R-70a3b1ca.js","assets/chunk-3ASUQ6PA-48ab7e46.js"])),I=n.lazy(()=>w(()=>import("./QuizQuestion-59a4bfb5.js"),["assets/QuizQuestion-59a4bfb5.js","assets/index-4b71839b.js","assets/index-9fd08ca8.css","assets/Button-da2653eb.js","assets/Container-8aac37e2.js","assets/StyledCustomRadios-f87abeaf.js","assets/index-81eaadee.js","assets/chunk-3ASUQ6PA-48ab7e46.js","assets/chunk-ZHMYA64R-70a3b1ca.js"])),H=y(()=>{const[a,e]=n.useState(0),[t,P]=n.useState(null),[d,m]=n.useState({good:0,fault:0}),[h,p]=n.useState(!1),r=j.StartQuizData,u=v();n.useEffect(()=>{if(r.length===0?u("/"):P(r[a]),r.length<a+1){p(!0);return}},[a,u,r]);const z=_=>{const b=_===(t==null?void 0:t.answers.answer);m(b?o=>({...o,good:o.good+1}):o=>({...o,fault:o.fault+1})),e(o=>o+1)},S=()=>{B.setUserResult(d),j.resetStore(),u("/")};return s.jsx(n.Suspense,{fallback:s.jsx(g,{}),children:s.jsx(E,{children:s.jsx(G,{children:s.jsx(q,{in:!!t||h,style:{position:"relative"},transition:{exit:{delay:1},enter:{duration:.5}},children:h?s.jsx(D,{result:d,btnHandle:S}):s.jsx(s.Fragment,{children:t?s.jsxs(s.Fragment,{children:[s.jsx(C,{p:"10px",children:s.jsxs(L,{fontSize:"md",children:["Question"," ",a<r.length?a+1:r.length," ","of ",r.length]})}),s.jsx(I,{question:t.question,answers:t.answers,onClickHandler:z})]}):s.jsx(g,{})})})})})})});export{H as default};
