var R=Object.defineProperty;var v=(a,s,t)=>s in a?R(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var l=(a,s,t)=>(v(a,typeof s!="symbol"?s+"":s,t),t);import{r as n,_ as p,t as y,j as e,L as x}from"./index-f8315b72.js";import{m as A,a as f,b as j,o as E,Q as c}from"./QuizStore-c1c3b814.js";import{S as C,M as G,T as k}from"./Container-9fd4bbac.js";import{C as H}from"./Button-c0ee0fe8.js";import{S as L}from"./chunk-SR4VX3RF-2273afa1.js";import{H as q}from"./chunk-3ASUQ6PA-d9ae9817.js";const u=class u{constructor(){l(this,"user",{name:"Deniss",email:"dsimonaits@gmail.com"});l(this,"userProgress",{totalGamesPlayed:0,totalQuestionsAnsweredGames:0,totalGoodAnswers:0,totalBadAnswers:0,currentLevel:0,averageScore:0});A(this,{user:f,userProgress:f,setPlayedGames:j,setUserResult:j})}static getInstance(){return this.instance||(this.instance=new u),this.instance}setPlayedGames(){this.userProgress.totalGamesPlayed+=1}setUserResult(s){s&&(this.userProgress.totalGoodAnswers+=s.good,this.userProgress.totalBadAnswers+=s.fault)}};l(u,"instance",null);let d=u;const D=d.getInstance(),I=n.lazy(()=>p(()=>import("./QuizResult-9d7f2fe9.js"),["assets/QuizResult-9d7f2fe9.js","assets/index-f8315b72.js","assets/index-0ae20fa8.css","assets/Button-c0ee0fe8.js","assets/Container-9fd4bbac.js","assets/chunk-NTCQBYKE-77fcf928.js","assets/chunk-3ASUQ6PA-d9ae9817.js"])),N=n.lazy(()=>p(()=>import("./QuizQuestion-ba28baf6.js"),["assets/QuizQuestion-ba28baf6.js","assets/index-f8315b72.js","assets/index-0ae20fa8.css","assets/Button-c0ee0fe8.js","assets/Container-9fd4bbac.js","assets/StyledCustomRadios-d67b0296.js","assets/index-ec41cda9.js","assets/chunk-3ASUQ6PA-d9ae9817.js"])),$=E(()=>{const[a,s]=n.useState(0),[t,w]=n.useState(null),[m,h]=n.useState({good:0,fault:0}),[g,S]=n.useState(!1),i=y(),r=c.StartQuizData;n.useEffect(()=>{if(r.length===0?i("/"):w(r[a]),r.length<a+1){S(!0);return}},[a,i,r]);const z=Q=>{const _=Q===(t==null?void 0:t.answers.answer);h(_?o=>({...o,good:o.good+1}):o=>({...o,fault:o.fault+1})),s(o=>o+1)},P=()=>{D.setUserResult(m),c.resetStore(),i("/")},b=()=>{c.resetStore(),i("/")};return e.jsx(n.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(C,{children:e.jsx(G,{children:e.jsx(L,{in:!!t||g,style:{position:"relative"},transition:{exit:{delay:1},enter:{duration:.5}},children:g?e.jsx(I,{result:m,btnHandle:P}):e.jsx(e.Fragment,{children:t?e.jsxs(e.Fragment,{children:[e.jsxs(q,{p:"10px",justify:"space-between",children:[e.jsxs(k,{fontSize:"md",children:["Question"," ",a<r.length?a+1:r.length," ","of ",r.length]}),e.jsx(H,{onClickHandler:b,children:"Exit"})]}),e.jsx(N,{question:t.question,answers:t.answers,onClickHandler:z})]}):e.jsx(x,{})})})})})})});export{$ as default};
