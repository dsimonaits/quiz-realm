import{k as m,u as H,r,q as A,h as be,i as s,f as me,j as d,b as pe}from"./index-352edc63.js";import{o as oe,Q as he}from"./QuizStore-ef15fdd3.js";import{C as Y}from"./Button-e340e9ba.js";import{H as ve}from"./HomePage-8188005f.js";import{S as Ce}from"./chunk-ZHMYA64R-7431e83c.js";import{T as Z}from"./chunk-2OOHT3W5-2fb33501.js";import{F as $}from"./chunk-KRPLQIP4-5af80224.js";import{u as ye,t as ge,S as ke}from"./StyledCustomRadios-163dc350.js";import{m as ee}from"./index-fca8f731.js";import xe from"./Modal-89568606.js";import{u as Se,a as Ie}from"./chunk-CHB4ZXZG-9bf611ce.js";import"./Container-42bf59d7.js";import"./chunk-7OLJDQMT-db0bc476.js";import"./iconBase-facdf1bd.js";import"./chunk-UVUR7MCU-d348b376.js";import"./chunk-3ASUQ6PA-1cfc7f2a.js";import"./chunk-ROURZMX4-c7157920.js";function De(i){var l,t,n;const o=ye(),{id:a,disabled:u,readOnly:p,required:y,isRequired:g,isInvalid:b,isReadOnly:x,isDisabled:S,onFocus:j,onBlur:c,...I}=i,D=i["aria-describedby"]?[i["aria-describedby"]]:[];return o!=null&&o.hasFeedbackText&&(o!=null&&o.isInvalid)&&D.push(o.feedbackId),o!=null&&o.hasHelpText&&D.push(o.helpTextId),{...I,"aria-describedby":D.join(" ")||void 0,id:a??(o==null?void 0:o.id),isDisabled:(l=u??S)!=null?l:o==null?void 0:o.isDisabled,isReadOnly:(t=p??x)!=null?t:o==null?void 0:o.isReadOnly,isRequired:(n=y??g)!=null?n:o==null?void 0:o.isRequired,isInvalid:b??(o==null?void 0:o.isInvalid),onFocus:m(o==null?void 0:o.onFocus,j),onBlur:m(o==null?void 0:o.onBlur,c)}}var Fe={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function je(i,l=[]){const t=Object.assign({},i);for(const n of l)n in t&&delete t[n];return t}function Pe(i={}){const l=De(i),{isDisabled:t,isReadOnly:n,isRequired:o,isInvalid:a,id:u,onBlur:p,onFocus:y,"aria-describedby":g}=l,{defaultChecked:b,isChecked:x,isFocusable:S,onChange:j,isIndeterminate:c,name:I,value:D,tabIndex:z=void 0,"aria-label":K,"aria-labelledby":U,"aria-invalid":T,...ne}=i,M=je(ne,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),q=H(j),_=H(p),V=H(y),[w,se]=r.useState(!1),[k,L]=r.useState(!1),[P,N]=r.useState(!1),[R,F]=r.useState(!1);r.useEffect(()=>ge(se),[]);const v=r.useRef(null),[Q,re]=r.useState(!0),[ie,B]=r.useState(!!b),O=x!==void 0,f=O?x:ie,W=r.useCallback(e=>{if(n||t){e.preventDefault();return}O||B(f?e.target.checked:c?!0:e.target.checked),q==null||q(e)},[n,t,f,O,c,q]);A(()=>{v.current&&(v.current.indeterminate=!!c)},[c]),be(()=>{t&&L(!1)},[t,L]),A(()=>{const e=v.current;if(!(e!=null&&e.form))return;const h=()=>{B(!!b)};return e.form.addEventListener("reset",h),()=>{var C;return(C=e.form)==null?void 0:C.removeEventListener("reset",h)}},[]);const G=t&&!S,X=r.useCallback(e=>{e.key===" "&&F(!0)},[F]),J=r.useCallback(e=>{e.key===" "&&F(!1)},[F]);A(()=>{if(!v.current)return;v.current.checked!==f&&B(v.current.checked)},[v.current]);const le=r.useCallback((e={},h=null)=>{const C=E=>{k&&E.preventDefault(),F(!0)};return{...e,ref:h,"data-active":s(R),"data-hover":s(P),"data-checked":s(f),"data-focus":s(k),"data-focus-visible":s(k&&w),"data-indeterminate":s(c),"data-disabled":s(t),"data-invalid":s(a),"data-readonly":s(n),"aria-hidden":!0,onMouseDown:m(e.onMouseDown,C),onMouseUp:m(e.onMouseUp,()=>F(!1)),onMouseEnter:m(e.onMouseEnter,()=>N(!0)),onMouseLeave:m(e.onMouseLeave,()=>N(!1))}},[R,f,t,k,w,P,c,a,n]),ce=r.useCallback((e={},h=null)=>({...e,ref:h,"data-active":s(R),"data-hover":s(P),"data-checked":s(f),"data-focus":s(k),"data-focus-visible":s(k&&w),"data-indeterminate":s(c),"data-disabled":s(t),"data-invalid":s(a),"data-readonly":s(n)}),[R,f,t,k,w,P,c,a,n]),de=r.useCallback((e={},h=null)=>({...M,...e,ref:ee(h,C=>{C&&re(C.tagName==="LABEL")}),onClick:m(e.onClick,()=>{var C;Q||((C=v.current)==null||C.click(),requestAnimationFrame(()=>{var E;(E=v.current)==null||E.focus({preventScroll:!0})}))}),"data-disabled":s(t),"data-checked":s(f),"data-invalid":s(a)}),[M,t,f,a,Q]),ue=r.useCallback((e={},h=null)=>({...e,ref:ee(v,h),type:"checkbox",name:I,value:D,id:u,tabIndex:z,onChange:m(e.onChange,W),onBlur:m(e.onBlur,_,()=>L(!1)),onFocus:m(e.onFocus,V,()=>L(!0)),onKeyDown:m(e.onKeyDown,X),onKeyUp:m(e.onKeyUp,J),required:o,checked:f,disabled:G,readOnly:n,"aria-label":K,"aria-labelledby":U,"aria-invalid":T?!!T:a,"aria-describedby":g,"aria-disabled":t,style:Fe}),[I,D,u,W,_,V,X,J,o,f,G,n,K,U,T,a,g,t,z]),fe=r.useCallback((e={},h=null)=>({...e,ref:h,onMouseDown:m(e.onMouseDown,Re),"data-disabled":s(t),"data-checked":s(f),"data-invalid":s(a)}),[f,t,a]);return{state:{isInvalid:a,isFocused:k,isChecked:f,isActive:R,isHovered:P,isIndeterminate:c,isDisabled:t,isReadOnly:n,isRequired:o},getRootProps:de,getCheckboxProps:le,getIndicatorProps:ce,getInputProps:ue,getLabelProps:fe,htmlProps:M}}function Re(i){i.preventDefault(),i.stopPropagation()}var ae=me((i,l)=>d.jsx(Ce,{align:"center",...i,direction:"column",ref:l}));ae.displayName="VStack";const we=oe(({allTopics:i,onChange:l})=>{const[t,n]=r.useState([]),o=a=>{t.includes(a)?n(t.filter(u=>u!==a)):n([...t,a])};return d.jsx(ae,{children:d.jsx($,{gap:"10px",flexWrap:"wrap",children:i.map(a=>{const{state:u,getCheckboxProps:p,getInputProps:y,getLabelProps:g,htmlProps:b}=Pe();return d.jsxs(pe.label,{onChange:()=>{o(a),l(a)},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gridColumnGap:2,maxW:"auto",bg:u.isChecked?"var(--secondaryColor)":"var(--bg)",border:"1px solid",borderColor:"var(--bg)",px:3,py:1,pr:"3rem",fontFamily:"var(--secondaryFont)",fontSize:"1.1rem",fontWeight:"medium",cursor:"pointer",transition:"var(--transition)",...b,children:[d.jsx("input",{...y(),hidden:!0}),d.jsx(Z,{color:"gray.700",...g(),children:a}),d.jsx($,{opacity:u.isChecked?1:0,position:"absolute",top:"0",right:"0",alignItems:"center",justifyContent:"center",borderColor:"var(--mainColor)",bg:"var(--mainColor)",color:"white",w:"2rem",h:"100%",transition:"var(--transition)",...p(),children:d.jsx(Z,{children:d.jsx(ve,{})})})]},a)})})})}),te=({toast:i,title:l,position:t,status:n="info"})=>i({title:l,position:t,status:n,isClosable:!0}),Xe=oe(({children:i})=>{const[l,t]=r.useState(0),[n,o]=r.useState(""),[a,u]=r.useState([]),p=he,y=Se(),g=[{title:"Choose your category",component:d.jsx(ke,{options:p.getAllCategories(),onChange:c=>{o(c)},stackStyle:{gap:"20px",flexWrap:"wrap",justifyContent:"center"}})},{title:"Choose your favorite topics",component:d.jsx(we,{allTopics:p.getAllTopics(n),onChange:c=>{a.includes(c)?u(a.filter(I=>I!==c)):u([...a,c])}})}],b=g[l],x=l===g.length-1,S=Ie();r.useEffect(()=>{l===0&&o("")},[l]);const j=()=>{if(b.component!==void 0){if(b.title==="Choose your category"&&n==="")return te({toast:y,title:"Please select a category!",position:"top"});if(b.title==="Choose your favorite topics"&&a.length===0)return te({toast:y,title:"Please select at least one topic!",position:"top"});x?(p.setCategory(n),p.setTopics(a),p.setStartQuiz(),S.onClose()):t(l+1)}};return d.jsxs(d.Fragment,{children:[d.jsx(Y,{onClickHandler:()=>{t(0),o(""),u([]),S.onOpen()},children:i}),d.jsxs(xe,{disclosure:S,modalTitle:b.title,styles:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[b.component,d.jsx(Y,{onClickHandler:j,children:x?"Start Learning":"Next"})]})]})});export{Xe as default};
