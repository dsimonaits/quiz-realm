import{V as de,u as H,r as n,W as q,h as ue,g as o,q as h,m as Y,y as fe,j as i,X as he,F as Z,c as pe,T as $,Y as be,C as ee,Z as Ce}from"./index-54a2e680.js";import{Q as me}from"./QuizStore-5e7d18ed.js";import{H as ge}from"./index.esm-55b60d31.js";import{t as ve,u as ye,S as ke}from"./StyledCustomRadios-96c2565b.js";var xe={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function Se(c,u=[]){const t=Object.assign({},c);for(const s of u)s in t&&delete t[s];return t}function De(c={}){const u=de(c),{isDisabled:t,isReadOnly:s,isRequired:g,isInvalid:a,id:f,onBlur:C,onFocus:x,"aria-describedby":y}=u,{defaultChecked:m,isChecked:S,isFocusable:D,onChange:R,isIndeterminate:r,name:F,value:z,tabIndex:K=void 0,"aria-label":O,"aria-labelledby":U,"aria-invalid":M,...te}=c,B=Se(te,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),T=H(R),V=H(C),W=H(x),[I,ae]=n.useState(!1),[v,L]=n.useState(!1),[P,Q]=n.useState(!1),[j,k]=n.useState(!1);n.useEffect(()=>ve(ae),[]);const p=n.useRef(null),[N,oe]=n.useState(!0),[se,w]=n.useState(!!m),A=S!==void 0,l=A?S:se,_=n.useCallback(e=>{if(s||t){e.preventDefault();return}A||w(l?e.target.checked:r?!0:e.target.checked),T==null||T(e)},[s,t,l,A,r,T]);q(()=>{p.current&&(p.current.indeterminate=!!r)},[r]),ue(()=>{t&&L(!1)},[t,L]),q(()=>{const e=p.current;if(!(e!=null&&e.form))return;const d=()=>{w(!!m)};return e.form.addEventListener("reset",d),()=>{var b;return(b=e.form)==null?void 0:b.removeEventListener("reset",d)}},[]);const J=t&&!D,X=n.useCallback(e=>{e.key===" "&&k(!0)},[k]),G=n.useCallback(e=>{e.key===" "&&k(!1)},[k]);q(()=>{if(!p.current)return;p.current.checked!==l&&w(p.current.checked)},[p.current]);const ne=n.useCallback((e={},d=null)=>{const b=E=>{v&&E.preventDefault(),k(!0)};return{...e,ref:d,"data-active":o(j),"data-hover":o(P),"data-checked":o(l),"data-focus":o(v),"data-focus-visible":o(v&&I),"data-indeterminate":o(r),"data-disabled":o(t),"data-invalid":o(a),"data-readonly":o(s),"aria-hidden":!0,onMouseDown:h(e.onMouseDown,b),onMouseUp:h(e.onMouseUp,()=>k(!1)),onMouseEnter:h(e.onMouseEnter,()=>Q(!0)),onMouseLeave:h(e.onMouseLeave,()=>Q(!1))}},[j,l,t,v,I,P,r,a,s]),re=n.useCallback((e={},d=null)=>({...e,ref:d,"data-active":o(j),"data-hover":o(P),"data-checked":o(l),"data-focus":o(v),"data-focus-visible":o(v&&I),"data-indeterminate":o(r),"data-disabled":o(t),"data-invalid":o(a),"data-readonly":o(s)}),[j,l,t,v,I,P,r,a,s]),ie=n.useCallback((e={},d=null)=>({...B,...e,ref:Y(d,b=>{b&&oe(b.tagName==="LABEL")}),onClick:h(e.onClick,()=>{var b;N||((b=p.current)==null||b.click(),requestAnimationFrame(()=>{var E;(E=p.current)==null||E.focus({preventScroll:!0})}))}),"data-disabled":o(t),"data-checked":o(l),"data-invalid":o(a)}),[B,t,l,a,N]),le=n.useCallback((e={},d=null)=>({...e,ref:Y(p,d),type:"checkbox",name:F,value:z,id:f,tabIndex:K,onChange:h(e.onChange,_),onBlur:h(e.onBlur,V,()=>L(!1)),onFocus:h(e.onFocus,W,()=>L(!0)),onKeyDown:h(e.onKeyDown,X),onKeyUp:h(e.onKeyUp,G),required:g,checked:l,disabled:J,readOnly:s,"aria-label":O,"aria-labelledby":U,"aria-invalid":M?!!M:a,"aria-describedby":y,"aria-disabled":t,style:xe}),[F,z,f,_,V,W,X,G,g,l,J,s,O,U,M,a,y,t,K]),ce=n.useCallback((e={},d=null)=>({...e,ref:d,onMouseDown:h(e.onMouseDown,Pe),"data-disabled":o(t),"data-checked":o(l),"data-invalid":o(a)}),[l,t,a]);return{state:{isInvalid:a,isFocused:v,isChecked:l,isActive:j,isHovered:P,isIndeterminate:r,isDisabled:t,isReadOnly:s,isRequired:g},getRootProps:ie,getCheckboxProps:ne,getIndicatorProps:re,getInputProps:le,getLabelProps:ce,htmlProps:B}}function Pe(c){c.preventDefault(),c.stopPropagation()}const je=fe(({allTopics:c,onChange:u})=>{const[t,s]=n.useState([]),g=a=>{t.includes(a)?s(t.filter(f=>f!==a)):s([...t,a])};return i.jsx(he,{children:i.jsx(Z,{gap:"10px",flexWrap:"wrap",children:c.map(a=>{const{state:f,getCheckboxProps:C,getInputProps:x,getLabelProps:y,htmlProps:m}=De();return i.jsxs(pe.label,{onChange:()=>{g(a),u(a)},position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gridColumnGap:2,maxW:"auto",bg:f.isChecked?"accent":"background",border:"1px solid",borderColor:"background",px:3,py:1,pr:"3rem",fontFamily:"var(--secondaryFont)",fontSize:"1.1rem",fontWeight:"medium",cursor:"pointer",transition:"var(--transition)",...m,children:[i.jsx("input",{...x(),hidden:!0}),i.jsx($,{color:"primary",...y(),children:a}),i.jsx(Z,{opacity:f.isChecked?1:0,position:"absolute",top:"0",right:"0",alignItems:"center",justifyContent:"center",borderColor:"var(--mainColor)",bg:"var(--mainColor)",color:"secondary",w:"2rem",h:"100%",transition:"var(--transition)",...C(),children:i.jsx($,{children:i.jsx(ge,{})})})]},a)})})})}),Fe=({toast:c,title:u,position:t,status:s="info"})=>c({title:u,position:t,status:s,isClosable:!0}),Me=({children:c})=>{const[u,t]=n.useState(0),[s,g]=n.useState("JavaScript"),[a,f]=n.useState([]),C=me,x=ye(),y=[{title:"Choose your category",component:i.jsx(ke,{options:C.getAllCategories(),defaultValue:s,onChange:r=>{g(r)},stackStyle:{gap:"20px",flexWrap:"wrap",justifyContent:"center"}})},{title:"Choose your favorite topics",component:i.jsx(je,{allTopics:C.getAllTopics(s),onChange:r=>{a.includes(r)?f(a.filter(F=>F!==r)):f([...a,r])}})}],m=y[u],S=u===y.length-1,D=be(),R=()=>{if(m.component!==void 0){if(m.title==="Choose your favorite topics"&&a.length===0)return Fe({toast:x,title:"Please select at least one topic!",position:"top"});S?(C.setCategory(s),C.setTopics(a),C.setStartQuiz(),D.onClose()):t(u+1)}};return i.jsxs(i.Fragment,{children:[i.jsx(ee,{onClickHandler:()=>{t(0),g("JavaScript"),f([]),D.onOpen()},children:c}),i.jsxs(Ce,{disclosure:D,modalTitle:m.title,styles:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[m.component,i.jsx(ee,{onClickHandler:R,children:S?"Start Learning":"Next"})]})]})};export{Me as default};
